---
title: "[DB] ì¸ë±ìŠ¤(index)"
categories: Db
toc: true
toc_sticky: true
//author_profile: false ì™¼ìª½ì— ë”°ë¼ë‹¤ë‹ˆëŠ”ê±° í‚¤ê³ ë„ê¸°
layout: single
show_Date: true
date: 2024-03-08
last_modified_at: 2024-03-08
---

# âšª<span style="color: #D6ABFA;">ì¸ë±ìŠ¤ë¥¼ ì™œ ì‚¬ìš©?</span>

ë””ìŠ¤í¬ì— ì €ì¥ëœ DBì˜ ìš©ëŸ‰ì€ ë„ˆë¬´ í¬ê¸° ë•Œë¬¸ì— ë©”ì¸ë©”ëª¨ë¦¬ì— í•œë²ˆì— ì ì¬í•˜ê¸°ë„ í˜ë“¤ê³  ê²€ìƒ‰í• ë•Œë„ ë¶€í•˜ê°€ ì‹¬í•¨

ë”°ë¼ì„œ íŠ¹ì • attribute(s)ë¥¼ ëŒ€ìƒìœ¼ë¡œ **ì¸ë±ìŠ¤**ë¥¼ ìƒì„±í•´ì„œ, ëŒ€ìƒìœ¼ë¡œ í•˜ëŠ” attributeê°€ ìˆëŠ” ë””ìŠ¤í¬ íŒŒì¼ ë‚´ ë ˆì½”ë“œì— í¬ì¸í„°ë°©ì‹ìœ¼ë¡œ ë¹ ë¥´ê²Œ ì ‘ê·¼í•  ìˆ˜ ìˆê²Œ í•´ì¤Œ  
(ì‹¤ì œë¡œëŠ” ì§ì ‘ì ìœ¼ë¡œ ë¸”ë¡ë‚´ ë ˆì½”ë“œë¥¼ í¬ì¸í„°í•˜ëŠ” ê²ƒì€ ì•„ë‹ˆê³  [slotted pageì˜ slotë¶€ë¶„ì„ í¬ì¸íŒ…](https://igh01gi.github.io/db/DataStorageStructures/#slotted-page)í•˜ì—¬ indirect accessí•˜ëŠ” ë°©ì‹) 

í•´ë‹¹ attribute(s)ë¥¼ ì´ìš©í•œ db accessê°€ í•„ìš”í• ë•Œ I/Oì‘ì—…ì„ ì¤„ì´ë©´ì„œ ë¹ ë¥´ê²Œ ìˆ˜í–‰í• ìˆ˜ìˆê²Œë¨

ê·¸ëŸ¬ë‚˜ dbì— ìˆ˜ì •/ì‚½ì…/ì‚­ì œê°€ ì¼ì–´ë‚ ë•Œë§ˆë‹¤ ì¸ë±ìŠ¤ë„ ê°±ì‹ ì´ í•„ìš”í•˜ê³ , ì¸ë±ìŠ¤ ìì²´ë„ ê³µê°„ì„ ì°¨ì§€í•˜ê¸°ë•Œë¬¸ì— ë‚¨ìš©í•˜ë©´ ì¢‹ì§€ ì•ŠìŒ

<br>

<br>

<br>

# âšª<span style="color: #D6ABFA;">Search Key</span>

![image-20240321063738294](../../assets/images/2024-03-08-Index/image-20240321063738294.png)

- íŒŒì¼ì—ì„œ ë ˆì½”ë“œë¥¼ ê²€ìƒ‰í•˜ëŠ”ë° ì‚¬ìš©ë˜ëŠ” attributesì˜ ì§‘í•©
- ì¸ë±ìŠ¤ë¡œ ì‚¬ìš©í•  Search Keyë¥¼ ë¨¼ì € ì •í•´ì•¼ ê·¸ê²ƒì„ ë°”íƒ•ìœ¼ë¡œ ì¸ë±ìŠ¤ë¥¼ ìƒì„± ê°€ëŠ¥
- Search KeyëŠ” ì†ì„± í•˜ë‚˜ì¼ìˆ˜ë„ ìˆê³  ì—¬ëŸ¬ê°œì¼ìˆ˜ë„ ìˆìŒ
- ìœ„ ì‚¬ì§„ì€ êµìˆ˜ í…Œì´ë¸”ì—ì„œ ID ì†ì„±ì„ ëŒ€ìƒìœ¼ë¡œ ì¸ë±ìŠ¤ë¥¼ ë§Œë“  ì˜ˆì‹œ. ì´ë•Œì˜ Search Keyê°€ IDì»¬ëŸ¼ì„
- ì‹¤ì œ ì¸ë±ìŠ¤ëŠ” ìœ„ì²˜ëŸ¼ ë‹¨ìˆœí•œ ë°°ì—´ì²˜ëŸ¼ êµ¬ì„±ë˜ì§€ëŠ” ì•ŠìŒ. ê°œë…ì  ì´í•´ë¥¼ ìœ„í•œ ì˜ˆì‹œì‚¬ì§„ì„

<br>

<br>

<br>

# âšª<span style="color: #D6ABFA;">Index File</span>

![image-20240322172409136](../../assets/images/2024-03-08-Index/image-20240322172409136.png)

- index fileì€ (search-key, pointer)ì˜ í˜•íƒœë¡œ ì´ë£¨ì–´ì§„ **index entry**ë¼ê³  ë¶ˆë¦¬ëŠ” recordë“¤ë¡œ ì´ë£¨ì–´ì ¸ ìˆë‹¤
- dbì—ì„œì˜ b+íŠ¸ë¦¬ëŠ” íŠ¸ë¦¬ì´ì§€ë§Œ ì•Œê³ ë¦¬ì¦˜ë•Œ ê³µë¶€í–ˆë˜ íŠ¸ë¦¬ì™€ëŠ” ë‹¤ë¥´ê²Œ ë””ìŠ¤í¬ìƒì— ì €ì¥ëœ íŒŒì¼ì„
- index fileì˜ í¬ê¸°ëŠ” ì˜¤ë¦¬ì§€ë„ ë°ì´í„° íŒŒì¼ì˜ í¬ê¸°ë³´ë‹¤ í›¨ì‹  ì‘ìŒ

<br>

<br>

<br>

# âšª<span style="color: #D6ABFA;">Ordered Index</span>

![image-20240322180122648](../../assets/images/2024-03-08-Index/image-20240322180122648.png)

- ordered indexì—ì„œëŠ” index entryë“¤ì´ search keyê°’ìœ¼ë¡œ ì •ë ¬ë˜ì–´ì„œ ì €ì¥ë¨
- ordered indexëŠ” ë‹¨ì§€ ì¸ë±ìŠ¤ì˜ ì •ë ¬ìœ ë¬´ë§Œìœ¼ë¡œ ê²°ì •ë˜ëŠ” ê²ƒì„
- ì˜¤ë¦¬ì§€ë„ ë°ì´í„°íŒŒì¼ì˜ ì •ë ¬ì— ë”°ë¥¸ êµ¬ë¶„ì€ ë˜ **Clutered index**ì´ëƒ **Nonclustered index**ì´ëƒë¡œ ë‚˜ë‰¨

## ğŸ”¹Clustered index

![image-20240322195824266](../../assets/images/2024-03-08-Index/image-20240322195824266.png)

- ordered indexì¼ë•Œ data fileì˜ ë ˆì½”ë“œ ìì²´(ì›ë³¸ ë°ì´í„° íŒŒì¼)ë„ í•´ë‹¹ indexì˜ search keyê°’ìœ¼ë¡œ ì •ë ¬ë˜ì–´ ìˆì„ë•Œ ê·¸ê²ƒì„ **Clustered index**ë¼ê³  í•¨
- **Primary index**ë¼ê³ ë„ ë¶€ë¦„
- Clustered index(Primary index)ì˜ search keyëŠ” ë³´í†µ í…Œì´ë¸”ì—ì„œì˜ primary keyì´ì§€ë§Œ, ë°˜ë“œì‹œ primary keyì—¬ì•¼ í•˜ëŠ”ê²ƒì´ ì•„ë‹˜
- ìœ„ ì‚¬ì§„ì˜ ê²½ìš° **Clustered index**ì´ë©´ì„œ **Dense index**ì¸ ê²½ìš°ì˜ ì˜ˆì‹œì„ 
- **Clustered indexëŠ” Sparse indexë„ ê°€ëŠ¥**

## ğŸ”¹Nonclustered index

![image-20240322203427125](../../assets/images/2024-03-08-Index/image-20240322203427125.png)

- ì˜¤ë¦¬ì§€ë„ data fileì˜ ì •ë ¬ ìˆœì„œê°€ indexì˜ search keyì˜ ì •ë ¬ìˆœì„œì™€ëŠ” ë‹¤ë¥¼ë•Œ **Nonclustered index**ë¼ê³  í•¨
- **Secondary index**ë¼ê³ ë„ ë¶€ë¦„
- ìœ„ ì‚¬ì§„ì˜ nonclustered indexì˜ search keyëŠ” í›„ë³´í‚¤ê°€ ì•„ë‹ˆê¸°ë•Œë¬¸ì— íŠ¹ì • recordë¥¼ ê³ ìœ í•˜ê²Œ ì§€ì •í•  ìˆ˜ ì—†ìŒ.   
  ë”°ë¼ì„œ ì¸ë±ìŠ¤ê°€ ì§ì ‘ì ìœ¼ë¡œ ë ˆì½”ë“œí¬ì¸íŒ…ì„ í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ì¤‘ê°„ì— ì‹¤ì œ recordì˜ ìœ„ì¹˜ë¥¼ í¬ì¸íŒ…í•˜ëŠ” **bucketì„ í¬ì¸íŒ…**í•¨  
  (í›„ë³´í‚¤ê°€ ì•„ë‹ˆê¸°ë•Œë¬¸ì— í•œ search keyì— í•´ë‹¹í•˜ëŠ” ë ˆì½”ë“œê°€ ì—¬ëŸ¬ê°œì¼ ìˆ˜ ìˆê¸° ë•Œë¬¸)
- Nonclustered indexëŠ” ë°˜ë“œì‹œ **Dense index**ì—¬ì•¼ í•¨
- Sequential scanì€ Clustered indexì—ì„œëŠ” ë¹„êµì  íš¨ìœ¨ì ì´ì§€ë§Œ,  
  Nonclustered indexì—ì„œëŠ” ìƒëŒ€ì ìœ¼ë¡œ íš¨ìœ¨ì´ ì¢‹ì§€ ì•ŠìŒ
  - ìµœì•…ì˜ ê²½ìš° dataê°€ ì €ì¥ëœ blockì´ ì—¬ê¸°ì €ê¸° í©ì–´ì ¸ ìˆìœ¼ë©´ ë””ìŠ¤í¬ I/Oê°€ ë¹„êµì  ìì£¼ ë°œìƒí•˜ê¸° ë•Œë¬¸

## ğŸ”¹Dense index

![image-20240322204740597](../../assets/images/2024-03-08-Index/image-20240322204740597.png)  
**Clustered index**ì´ë©´ì„œ **Dense index**ì¸ ê²½ìš°
{: .notice--primary}

![image-20240322204814440](../../assets/images/2024-03-08-Index/image-20240322204814440.png)  **Nonclustered index**ì´ë©´ì„œ **Dense index**ì¸ ê²½ìš°
{: .notice--primary}

- data fileì˜ search keyì˜ ê°’ë“¤ì´ indexì—”íŠ¸ë¦¬ë¡œ ì „ë¶€ ì¡´ì¬í•˜ëŠ” ê²½ìš° **Dense index**ë¼ê³  í•¨
- Dense indexê°€ ê¼­ ë ˆì½”ë“œ ìˆ˜ë§Œí¼ì˜ ì—”íŠ¸ë¦¬ê°€ ìˆì–´ì•¼ í•˜ëŠ”ê²ƒì€ ì•„ë‹˜ (ì¤‘ë³µëœ ê°’ì´ ìˆì„ ìˆ˜ ìˆì–´ì„œ)  
  ì²«ë²ˆì§¸ ì‚¬ì§„ì„ ë³´ë©´ í…Œì´ë¸”ìƒì— ì¡´ì¬í•˜ëŠ” í•™ê³¼ ì´ë¦„ì´ ì „ë¶€ ì—”íŠ¸ë¦¬ìƒì— ë“±ë¡ë˜ì–´ìˆì§€ë§Œ ì—”íŠ¸ë¦¬ì˜ ìˆ˜ëŠ” í…Œì´ë¸”ì˜ ë ˆì½”ë“œìˆ˜ë³´ë‹¤ ì ì€ê±¸ ì•Œ ìˆ˜ ìˆìŒ
- dense indexì™€ ë¹„êµë˜ëŠ” ê²ƒì€ sparse indexì„

## ğŸ”¹Sparse index

![image-20240322221251482](../../assets/images/2024-03-08-Index/image-20240322221251482.png)

- data fileì˜ search keyê°’ë“¤ì¤‘ ì¼ë¶€ë§Œì´ indexì—”íŠ¸ë¦¬ë¡œ ì¡´ì¬í•˜ëŠ” ê²½ìš° **Sparse index**ë¼ê³  í•¨
- ê·¸ íŠ¹ì„±ìƒ **ë°˜ë“œì‹œ clustered indexì—¬ì•¼ë§Œ ê°€ëŠ¥**í•¨
- ìœ„ ì‚¬ì§„ì„ ì˜ˆë¡œ, IDê°€ 22222ì¸ ë ˆì½”ë“œë¥¼ ì°¾ê³ ìí•˜ë©´ 10101<22222<32343 ì´ê¸°ë•Œë¬¸ì—  
  10101ì— í•´ë‹¹í•˜ëŠ” ì¸ë±ìŠ¤ ì—”íŠ¸ë¦¬ì˜ í¬ì¸í„°ë¥¼ ì°¾ì•„ê°€ì„œ í•´ë‹¹í•˜ëŠ” ë¸”ë¡ë¶€í„° ìˆœì°¨ì ìœ¼ë¡œ ì´ë™í•˜ë©° ì°¾ê²Œ ë¨
- ì¦‰ search keyê°€ Kë¼ë©´,  
  Kê°’ë³´ë‹¤ ì‘ì€ê²ƒì¤‘ì— ìµœëŒ€ê°’ì„ ì§€ë‹Œ index recordë¥¼ ì°¾ì€ ë‹¤ìŒ, í•´ë‹¹ ì¸ë±ìŠ¤ ì—”íŠ¸ë¦¬ê°€ í¬ì¸íŒ…í•˜ëŠ” ë¸”ë¡ì„ ê°€ì ¸ì˜¨ ë’¤,  
  ìˆœì°¨ì ìœ¼ë¡œ ì°¾ì•„ê°€ë©´ ë¨

## ğŸ”¹ìš”ì•½ ì´ë¯¸ì§€

![image-20240322225751708](../../assets/images/2024-03-08-Index/image-20240322225751708.png)

<br>

<br>

<br>

# âšª<span style="color: #D6ABFA;">Index-sequential file</span>

![image-20240322232204760](../../assets/images/2024-03-08-Index/image-20240322232204760.png)

- [sequential file êµ¬ì¡°](https://igh01gi.github.io/db/OrganizationOfRecordsInFiles/#sequential)ë¥¼ ì§€ë‹Œ ë°ì´í„°íŒŒì¼ì´, íŠ¹ì • Search keyë¡œ ì •ë ¬ëœ ìƒíƒœë¼ê³  í–ˆì„ë•Œ  
  í•´ë‹¹ Search keyì— ëŒ€í•´ì„œ Clustered indexê°€ ì„¤ì •ë˜ì–´ ìˆëŠ” ê²½ìš°
- ìˆœì°¨íŒŒì¼ì ‘ê·¼ ë°©ì‹ê³¼ ì¸ë±ìŠ¤ ì ‘ê·¼ ë°©ì‹ì„ í˜¼ìš©í•˜ëŠ” ë°©ì‹ì¸ë°, ì´ê²ƒì´ ë˜ë ¤ë©´ ë°˜ë“œì‹œ ì¸ë±ìŠ¤ ìì²´ê°€ Clustered indexì—¬ì•¼ í•¨

<br>

<br>

<br>

# âšª<span style="color: #D6ABFA;">Multilevel index</span>

![image-20240322230554266](../../assets/images/2024-03-08-Index/image-20240322230554266.png)

- ì¸ë±ìŠ¤ ìì²´ë„ ìš©ëŸ‰ì´ ì»¤ì§€ë©´ ë©”ì¸ë©”ëª¨ë¦¬ì— ì˜¬ë¦¬ê¸° í˜ë“¤ê¸° ë•Œë¬¸ì— Multilevel indexë¥¼ ì‚¬ìš©í•¨
  - **inner index** : ê¸°ì¡´ index file
  - **outer index** : inner indexì˜ sparse index
- **ì¸ë±ìŠ¤ ìì²´ë¥¼ sequential fileë¡œ ê°„ì£¼**í•˜ê³  ê·¸ê²ƒ ìœ„ì— **sparse indexë¥¼ ë˜ ë§Œë“œëŠ” ë°©ì‹**ì„ ë§í•¨
- ë§Œì•½ì— ìœ„ ì‚¬ì§„ì²˜ëŸ¼ í–ˆìŒì—ë„, outer indexê°€ í¬ë‹¤ë©´, ë˜ ìƒˆë¡œìš´ levelì˜ indexë¥¼ ìƒì„±í•˜ë©´ ë¨
- fileì— ë ˆì½”ë“œ ì‚½ì…/ì‚­ì œì— ë”°ë¥¸ indexì˜ updateê°€ í•„ìš”í•˜ë‹¤ëŠ” ë¶€ë‹´ì€ ë‹¹ì—°íˆ ìƒê¹€

<br>

<br>

<br>

# âšª<span style="color: #D6ABFA;">Hash Index</span>

![image-20240322184756006](../../assets/images/2024-03-08-Index/image-20240322184756006.png)

Ordered Indexì™€ êµ¬ë¶„ë˜ëŠ” ë˜ ë‹¤ë¥¸ ì¢…ë¥˜ì˜ ì¸ë±ìŠ¤

Hash í•¨ìˆ˜ë¥¼ ì´ìš©í•œ Index

ìì„¸í•œ ì„¤ëª…ì€ ìƒëµ

<br>

<br>

<br>

# âšª<span style="color: #D6ABFA;">SQLì—ì„œ Index</span>

- ì¸ë±ìŠ¤ ìƒì„±

  ```
  create index <index-name> on <relation-name>(<attribute-list>)
  
  ex : create index ID_idx on instructor(ID)
  ```

  ë³µìˆ˜ê°œì˜ ì»¬ëŸ¼(`<attribute-list>`ë¶€ë¶„)ì„ í•œë²ˆì— ì¸ë±ìŠ¤ë¡œ ì§€ì •í•  ìˆ˜ë„ ìˆìŒ

- ì¸ë±ìŠ¤ ì œê±°

  ```
  drop index <index-name>
  ```

  
